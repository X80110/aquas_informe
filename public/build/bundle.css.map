{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "HeaderAction.svelte",
    "HeaderActionLink.svelte",
    "HeaderActionSearch.svelte",
    "HeaderPanelDivider.svelte",
    "HeaderSearch.svelte",
    "App.svelte",
    "Multiline.svelte",
    "Axis.svelte",
    "PointInteractive.svelte",
    "Divider.svelte",
    "Footer.svelte",
    "Media.svelte",
    "UXBanner.svelte"
  ],
  "sourcesContent": [
    "<script>\n  /**\n   * @typedef {{ delay?: number; duration?: number; easing?: (t: number) => number; }} HeaderActionSlideTransition\n   */\n\n  /** Set to `true` to open the panel */\n  export let isOpen = false;\n\n  /**\n   * Specify the icon from `carbon-icons-svelte` to render\n   * @type {typeof import(\"carbon-icons-svelte\").CarbonIcon}\n   */\n  export let icon = undefined;\n\n  /**\n   * Specify the text\n   * Alternatively, use the named slot \"text\" (e.g., <div slot=\"text\">...</div>)\n   * @type {string}\n   */\n  export let text = undefined;\n\n  /** Obtain a reference to the button HTML element */\n  export let ref = null;\n\n  /**\n   * Customize the panel transition (i.e., `transition:slide`)\n   * Set to `false` to disable the transition\n   * @type {false | HeaderActionSlideTransition}\n   */\n  export let transition = { duration: 200 };\n\n  import { createEventDispatcher } from \"svelte\";\n  import { slide } from \"svelte/transition\";\n  import Close20 from \"carbon-icons-svelte/lib/Close20/Close20.svelte\";\n  import AppSwitcher20 from \"carbon-icons-svelte/lib/AppSwitcher20/AppSwitcher20.svelte\";\n  import Icon from \"../../Icon/Icon.svelte\";\n\n  const dispatch = createEventDispatcher();\n\n  let refPanel = null;\n</script>\n\n<svelte:window\n  on:click=\"{({ target }) => {\n    if (isOpen && !ref.contains(target) && !refPanel.contains(target)) {\n      isOpen = false;\n      dispatch('close');\n    }\n  }}\"\n/>\n\n<div>\n  <button\n    bind:this=\"{ref}\"\n    type=\"button\"\n    class:bx--header__action=\"{true}\"\n    class:bx--header__action--active=\"{isOpen}\"\n    class:action-text=\"{text}\"\n    {...$$restProps}\n    on:click\n    on:click|stopPropagation=\"{() => {\n      isOpen = !isOpen;\n      dispatch(isOpen ? 'open' : 'close');\n    }}\"\n  >\n    <Icon render=\"{icon || (isOpen ? Close20 : AppSwitcher20)}\" />\n    <slot name=\"text\">\n      {#if text}<span>{text}</span>{/if}\n    </slot>\n  </button>\n  {#if isOpen}\n    <div\n      bind:this=\"{refPanel}\"\n      class:bx--header-panel=\"{true}\"\n      class:bx--header-panel--expanded=\"{true}\"\n      transition:slide=\"{{\n        ...transition,\n        duration: transition === false ? 0 : transition.duration,\n      }}\"\n    >\n      <slot />\n    </div>\n  {/if}\n</div>\n\n<style>\n  .action-text {\n    font-size: 16px;\n    line-height: 20px;\n    text-decoration: none;\n    color: #fff;\n    width: 100%;\n    padding: 0 1rem;\n  }\n\n  .action-text > span {\n    margin-left: 0.75rem;\n    vertical-align: top;\n  }\n</style>\n",
    "<script>\n  /** Set to `true` to use the active state */\n  export let linkIsActive = false;\n\n  /**\n   * Specify the `href` attribute\n   * @type {string}\n   */\n  export let href = undefined;\n\n  /**\n   * Specify the icon from `carbon-icons-svelte` to render\n   * @type {typeof import(\"carbon-icons-svelte\").CarbonIcon}\n   */\n  export let icon = undefined;\n\n  /** Obtain a reference to the HTML anchor element */\n  export let ref = null;\n\n  import Icon from \"../../Icon/Icon.svelte\";\n</script>\n\n<a\n  bind:this=\"{ref}\"\n  class:bx--header__action=\"{true}\"\n  class:bx--header__action--active=\"{linkIsActive}\"\n  class:action-link=\"{true}\"\n  href=\"{href}\"\n  rel=\"{$$restProps.target === '_blank' ? 'noopener noreferrer' : undefined}\"\n  {...$$restProps}\n>\n  <Icon render=\"{icon}\" />\n</a>\n\n<style>\n  .action-link {\n    text-align: center;\n    align-items: center;\n    vertical-align: middle;\n    justify-content: center;\n    padding-top: 10px;\n  }\n</style>\n",
    "<script>\n  /**\n   * @deprecated\n   * This component will be removed in version 1.0.0.\n   * Use `HeaderSearch` instead\n   */\n\n  /**\n   * @event {{ action: \"search\"; textInput: string; }} inputSearch\n   */\n\n  /** Set to `true` to focus the search */\n  export let searchIsActive = false;\n\n  import { createEventDispatcher } from \"svelte\";\n  import Close20 from \"carbon-icons-svelte/lib/Close20\";\n  import Search20 from \"carbon-icons-svelte/lib/Search20\";\n  import { Icon } from \"../../Icon\";\n  import searchStore from \"../searchStore\";\n\n  const dispatch = createEventDispatcher();\n\n  let searchTabIndex = \"0\";\n  let closeTabIndex = \"-1\";\n  let elInput = undefined;\n  let elTypeSearch = undefined;\n  let isSearchFocus = false;\n\n  function dispatchInputs(event) {\n    const params = {\n      action: \"search\",\n      textInput: event.target.value,\n    };\n\n    dispatch(\"inputSearch\", params);\n  }\n\n  $: if (!searchIsActive) {\n    if (elInput) {\n      elInput.value = \"\";\n    }\n    searchStore.clear();\n  }\n  $: if (searchIsActive) {\n    searchTabIndex = \"-1\";\n    closeTabIndex = \"0\";\n  } else {\n    searchTabIndex = \"0\";\n    closeTabIndex = \"-1\";\n  }\n  $: if (isSearchFocus) {\n    elInput.focus();\n  }\n  $: showResults = $searchStore ? true : false;\n</script>\n\n<svelte:window\n  on:mouseup=\"{({ target }) => {\n    if (target && elTypeSearch) {\n      if (!elTypeSearch.contains(target)) {\n        searchIsActive = false;\n        isSearchFocus = false;\n      }\n    }\n  }}\"\n/>\n\n<div\n  bind:this=\"{elTypeSearch}\"\n  role=\"search\"\n  class=\"search-wrapper\"\n  class:search-wrapper-hidden=\"{!searchIsActive}\"\n  class:search-focus=\"{isSearchFocus || searchIsActive}\"\n>\n  <div\n    id=\"right-panel-action-search\"\n    class=\"search-wrapper-2\"\n    role=\"combobox\"\n    aria-expanded=\"{searchIsActive}\"\n  >\n    <button\n      tabindex=\"{searchTabIndex}\"\n      aria-label=\"Search\"\n      class:bx--header__action=\"{true}\"\n      class:btn-search=\"{true}\"\n      class:btn-search-disabled=\"{searchIsActive}\"\n      on:click=\"{() => {\n        isSearchFocus = true;\n        searchIsActive = true;\n        dispatch('focusInputSearch');\n      }}\"\n      type=\"button\"\n      on:keydown=\"{({ key }) => {\n        if (key === 'Enter') {\n          searchIsActive = !searchIsActive;\n        }\n      }}\"\n    >\n      <Icon title=\"Search\" tabindex=\"0\" render=\"{Search20}\" />\n    </button>\n    <input\n      bind:this=\"{elInput}\"\n      id=\"input-search-field\"\n      type=\"text\"\n      autocomplete=\"off\"\n      tabindex=\"{closeTabIndex}\"\n      class=\"input-search\"\n      class:input-hidden=\"{!searchIsActive}\"\n      placeholder=\"Search\"\n      on:focus=\"{() => dispatch('focusInputSearch')}\"\n      on:focusout=\"{() => dispatch('focusOutInputSearch')}\"\n      on:input=\"{dispatchInputs}\"\n    />\n    <button\n      id=\"right-panel-close-search\"\n      tabindex=\"{closeTabIndex}\"\n      class:bx--header__action=\"{true}\"\n      class:btn-clear=\"{true}\"\n      class:btn-clear-hidden=\"{!searchIsActive}\"\n      type=\"button\"\n      aria-label=\"Clear search\"\n      on:click=\"{() => {\n        isSearchFocus = false;\n        searchIsActive = false;\n        searchStore.clear();\n      }}\"\n      on:keydown=\"{({ key }) => {\n        if (key === 'Enter') {\n          searchIsActive = !searchIsActive;\n        }\n      }}\"\n    >\n      <Icon title=\"Close\" tabindex=\"0\" render=\"{Close20}\" />\n    </button>\n  </div>\n</div>\n\n<style>\n  .search-wrapper {\n    position: relative;\n    display: flex;\n    max-width: 28rem;\n    width: 100%;\n    margin-left: 0.5rem;\n    height: 3rem;\n    background-color: #393939;\n    color: #fff;\n    transition: max-width 0.11s cubic-bezier(0.2, 0, 0.38, 0.9),\n      background 0.11s cubic-bezier(0.2, 0, 0.38, 0.9);\n  }\n\n  .search-wrapper-hidden {\n    max-width: 3rem;\n    background-color: #161616;\n  }\n\n  .search-focus {\n    outline: 2px solid #fff;\n    outline-offset: -2px;\n  }\n\n  .search-wrapper-2 {\n    display: flex;\n    flex-grow: 1;\n    border-bottom: 1px solid #393939;\n  }\n\n  .btn-search {\n    width: 3rem;\n    height: 100%;\n    padding: 0;\n    flex-shrink: 0;\n    opacity: 1;\n    transition: background-color 0.11s cubic-bezier(0.2, 0, 0.38, 0.9),\n      opacity 0.11s cubic-bezier(0.2, 0, 0.38, 0.9);\n  }\n\n  .btn-search-disabled {\n    border: none;\n    pointer-events: none;\n  }\n\n  .input-search {\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.375rem;\n    letter-spacing: 0;\n    color: #fff;\n    caret-color: #fff;\n    background-color: initial;\n    border: none;\n    outline: none;\n    width: 100%;\n    height: 3rem;\n    padding: 0;\n    transition: opacity 0.11s cubic-bezier(0.2, 0, 0.38, 0.9);\n  }\n\n  .input-hidden {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  .btn-clear {\n    width: 3rem;\n    height: 100%;\n    padding: 0;\n    flex-shrink: 0;\n    opacity: 1;\n    display: block;\n    transition: background-color 0.11s cubic-bezier(0.2, 0, 0.38, 0.9),\n      opacity 0.11s cubic-bezier(0.2, 0, 0.38, 0.9);\n  }\n\n  .btn-clear:hover {\n    background-color: #4c4c4c;\n  }\n\n  .btn-clear-hidden {\n    opacity: 0;\n    display: none;\n  }\n</style>\n",
    "<li class=\"subject-divider\">\n  <span>\n    <slot />\n  </span>\n</li>\n\n<style>\n  .subject-divider {\n    color: #525252;\n    padding-bottom: 4px;\n    border-bottom: 1px solid #525252;\n    margin: 32px 1rem 8px;\n  }\n\n  .subject-divider span {\n    font-size: 0.75rem;\n    font-weight: 400;\n    line-height: 1rem;\n    letter-spacing: 0.32px;\n    color: #c6c6c6;\n  }\n</style>\n",
    "<script>\n  /**\n   * @typedef {{ href: string; text: string; description?: string; }} HeaderSearchResult\n   * @event {any} active\n   * @event {any} inactive\n   * @event {any} clear\n   * @event {{ value: string; selectedResultIndex: number; selectedResult: HeaderSearchResult }} select\n   * @slot {{ result: HeaderSearchResult; index: number }}\n   */\n\n  /** Specify the search input value */\n  export let value = \"\";\n\n  /** Set to `true` to activate and focus the search bar */\n  export let active = false;\n\n  /** Obtain a reference to the input HTML element */\n  export let ref = null;\n\n  /**\n   * Render a list of search results\n   * @type {HeaderSearchResult[]}\n   */\n  export let results = [];\n\n  /** Specify the selected result index */\n  export let selectedResultIndex = 0;\n\n  import { createEventDispatcher, tick } from \"svelte\";\n  import Close20 from \"carbon-icons-svelte/lib/Close20/Close20.svelte\";\n  import Search20 from \"carbon-icons-svelte/lib/Search20/Search20.svelte\";\n\n  const dispatch = createEventDispatcher();\n\n  let refSearch = null;\n\n  function reset() {\n    active = false;\n    value = \"\";\n    selectedResultIndex = 0;\n  }\n\n  function selectResult() {\n    dispatch(\"select\", { value, selectedResultIndex, selectedResult });\n    reset();\n  }\n\n  $: if (active && ref) ref.focus();\n  $: dispatch(active ? \"active\" : \"inactive\");\n  $: selectedResult = results[selectedResultIndex];\n  $: selectedId = selectedResult\n    ? `search-menuitem-${selectedResultIndex}`\n    : undefined;\n</script>\n\n<svelte:window\n  on:mouseup=\"{({ target }) => {\n    if (active && !refSearch.contains(target)) active = false;\n  }}\"\n/>\n\n<div bind:this=\"{refSearch}\" role=\"search\" class:active>\n  <label for=\"search-input\" id=\"search-label\">Search</label>\n  <div role=\"combobox\" aria-expanded=\"{active}\">\n    <button\n      type=\"button\"\n      aria-label=\"Search\"\n      tabindex=\"{active ? '-1' : '0'}\"\n      class:bx--header__action=\"{true}\"\n      class:disabled=\"{active}\"\n      on:click=\"{() => {\n        active = true;\n      }}\"\n    >\n      <Search20 title=\"Search\" />\n    </button>\n    <input\n      bind:this=\"{ref}\"\n      type=\"text\"\n      autocomplete=\"off\"\n      placeholder=\"Search...\"\n      tabindex=\"{active ? '0' : '-1'}\"\n      class:active\n      {...$$restProps}\n      id=\"search-input\"\n      aria-activedescendant=\"{selectedId}\"\n      bind:value\n      on:change\n      on:input\n      on:focus\n      on:blur\n      on:keydown\n      on:keydown=\"{(e) => {\n        switch (e.key) {\n          case 'Enter':\n            selectResult();\n            break;\n          case 'ArrowDown':\n            e.preventDefault();\n            if (selectedResultIndex === results.length - 1) {\n              selectedResultIndex = 0;\n            } else {\n              selectedResultIndex += 1;\n            }\n            break;\n          case 'ArrowUp':\n            e.preventDefault();\n            if (selectedResultIndex === 0) {\n              selectedResultIndex = results.length - 1;\n            } else {\n              selectedResultIndex -= 1;\n            }\n            break;\n        }\n      }}\"\n    />\n    <button\n      type=\"button\"\n      aria-label=\"Clear search\"\n      tabindex=\"{active ? '0' : '-1'}\"\n      class:bx--header__action=\"{true}\"\n      class:hidden=\"{!active}\"\n      on:click=\"{() => {\n        reset();\n        dispatch('clear');\n      }}\"\n    >\n      <Close20 title=\"Close\" />\n    </button>\n  </div>\n\n  {#if active && results.length > 0}\n    <ul aria-labelledby=\"search-label\" role=\"menu\" id=\"search-menu\">\n      {#each results as result, i}\n        <li>\n          <a\n            tabindex=\"-1\"\n            id=\"search-menuitem-{i}\"\n            role=\"menuitem\"\n            href=\"{result.href}\"\n            class:selected=\"{selectedId === `search-menuitem-${i}`}\"\n            on:click|preventDefault=\"{async () => {\n              selectedResultIndex = i;\n              await tick();\n              selectResult();\n            }}\"\n          >\n            <slot result=\"{result}\" index=\"{i}\">\n              {result.text}\n              {#if result.description}<span>– {result.description}</span>{/if}\n            </slot>\n          </a>\n        </li>\n      {/each}\n    </ul>\n  {/if}\n</div>\n\n<style>\n  label {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    margin: -1px;\n    padding: 0;\n    overflow: hidden;\n    white-space: nowrap;\n    border: 0;\n    visibility: inherit;\n    clip: rect(0, 0, 0, 0);\n  }\n\n  [role=\"search\"] {\n    position: relative;\n    display: flex;\n    max-width: 28rem;\n    width: 100%;\n    margin-left: 0.5rem;\n    height: 3rem;\n    background-color: #393939;\n    color: #fff;\n    transition: max-width 0.11s cubic-bezier(0.2, 0, 0.38, 0.9),\n      background 0.11s cubic-bezier(0.2, 0, 0.38, 0.9);\n  }\n\n  [role=\"search\"]:not(.active) {\n    max-width: 3rem;\n    background-color: #161616;\n  }\n\n  [role=\"search\"].active {\n    outline: 2px solid #fff;\n    outline-offset: -2px;\n  }\n\n  [role=\"combobox\"] {\n    display: flex;\n    flex-grow: 1;\n    border-bottom: 1px solid #393939;\n  }\n\n  input {\n    width: 100%;\n    height: 3rem;\n    padding: 0;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.375rem;\n    letter-spacing: 0;\n    color: #fff;\n    caret-color: #fff;\n    background-color: initial;\n    border: none;\n    outline: none;\n    transition: opacity 0.11s cubic-bezier(0.2, 0, 0.38, 0.9);\n  }\n\n  input:not(.active) {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  button {\n    width: 3rem;\n    height: 100%;\n    padding: 0;\n    flex-shrink: 0;\n    opacity: 1;\n    transition: background-color 0.11s cubic-bezier(0.2, 0, 0.38, 0.9),\n      opacity 0.11s cubic-bezier(0.2, 0, 0.38, 0.9);\n  }\n\n  .disabled {\n    border: none;\n    pointer-events: none;\n  }\n\n  [aria-label=\"Clear search\"]:hover {\n    background-color: #4c4c4c;\n  }\n\n  .hidden {\n    opacity: 0;\n    display: none;\n  }\n\n  ul {\n    position: absolute;\n    z-index: 10000;\n    padding: 1rem 0;\n    left: 0;\n    right: 0;\n    top: 3rem;\n    background-color: #161616;\n    border: 1px solid #393939;\n    border-top: none;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.5);\n  }\n\n  [role=\"menuitem\"] {\n    padding: 6px 1rem;\n    cursor: pointer;\n    font-size: 0.875rem;\n    font-weight: 600;\n    line-height: 1.29;\n    letter-spacing: 0.16px;\n    transition: all 70ms cubic-bezier(0.2, 0, 0.38, 0.9);\n    display: block;\n    text-decoration: none;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color: #c6c6c6;\n  }\n\n  .selected,\n  [role=\"menuitem\"]:hover {\n    background-color: #353535;\n    color: #f4f4f4;\n  }\n\n  [role=\"menuitem\"] span {\n    font-size: 0.75rem;\n    font-weight: 400;\n    line-height: 1.34;\n    letter-spacing: 0.32px;\n    text-transform: lowercase;\n    color: #c6c6c6;\n  }\n</style>\n",
    "<script>\n\timport { setContext, onMount } from \"svelte\";\n\timport * as d3 from 'd3';\n\timport { MultiSelect } from \"carbon-components-svelte\";\n\timport { getData, setColors, rollUnroll, reducer } from \"./utils.js\";\n\timport { themes } from './config.js';\n\timport locale from '@reuters-graphics/d3-locale';\n\t\n\n\timport UXResearch from \"./components/UXBanner.svelte\"\n\n\timport Header from \"./components/Header.svelte\";\n\timport Multiline from \"./charts/Multiline.svelte\";\n\timport Section from \"./components/Section.svelte\";\n\timport Footer from \"./components/Footer.svelte\";\n\timport Filler from \"./components/Filler.svelte\";\n\timport Scroller from \"./components/Filler.svelte\";\n\timport Media from \"./components/Media.svelte\";\n\timport Divider from \"./components/Divider.svelte\";\n\t\n\tconst loc = new locale('es');\n\tconst format = {\n\t\tx: loc.formatTime('%b %e'),\n        y: loc.format(',.1d'),\n    }\n\tvar loaded = false;\n\t// STYLE CONFIG\n\t// Set theme globally (options are 'light' or 'dark')\n\tlet theme = \"light\";\n\tsetContext(\"theme\", theme);\n\tsetColors(themes, theme);\n\n\t// SCROLLYTELLING CONFIG\n\t// Config\n\tconst threshold = 0.65;\n\t// State\n\tlet index = [];\n\tlet indexPrev = [];\n\tonMount(() => {\n\t\tindexPrev = [...index];\n\t});\n\n\t// DATA \n\tconst rawdata = \"./data/territoripoblacio.csv\";\n\tlet rolledData;\n\tlet multiline;\n\tlet variable = \"Visites\";\n\tlet v_absolut = [\"PacientsN\", \"VisitesN\"];\n\tlet ratio = [\"Ratio\"];\n\t//let scale = [{ id: 'RS', text: 'Regió Sanitaria' }, { id: 'AGA', text: 'Àrea de gestió assistencial' }];\n\tlet scale = [\"AGA\"]\n\n\tonMount(async () => {\n        const data = await getData(rawdata);\n        const mappedData = data.map(d => {\n            return {\n                Any:+d.Any,\n\t\t\t\t\tRS: d.id_rs,\n\t\t\t\t\tAGA: d.id_aga,\n\t\t\t\t\tSexe: +d.sexe,\n\t\t\t\t\tEdat: d.edat,\n\t\t\t\t\tBaix: d.Nse_baix,\n\t\t\t\t\tNou: d.Nou_pacient,\n\t\t\t\t\tPcsm: d.pcsm,\n\t\t\t\t\tPccsm: d.pccsm,\n\t\t\t\t\tPacients: +d.pacients,\n\t\t\t\t\tVisites: +d.visites,\n\t\t\t\t\tPoblacio: +d.Poblacio,\n\t\t\t\t\tPacientsN : 100*(+d.pacients)/(+d.Poblacio),\n\t\t\t\t\tVisitesN : 100*(+d.visites)/(+d.Poblacio),\n\t\t\t\t\tRatio: +d.visites/+d.pacients,\n            }\n        });\n\t\t\n\t\trolledData = rollUnroll(mappedData, v => reducer(variable) (v, d => d[variable]), [ scale,\"Any\"], variable)\n\t\tlet groupedData = d3.groups(rolledData,  d => d[scale]);\n\t\tmultiline = [2016,2017, 2018, 2019].map(year => {return {\n\t\t\t\t\ttime: new Date(`01/01/${year}`),\n\t\t\t\t\tval: groupedData.flat()[1].filter(d => d.Any == year).map,\n\t\t\t\t\tkey: groupedData.flat()[1].filter(d => d.Any == year).map((d)=>d).map(d=>d.RS)\n\t\t\t\t}\n\t\t\t\t});console.log(multiline);\n    }); \n\t\n\n\t\n\n</script>\n\n<UXResearch\t/>\n\n\n\n<Header bgimage=\"./img/bg-dark.jpg\" bgfixed={true} theme=\"dark\">\n\t<h1 class=\"text-shadow\">Àmbit de salut mental i addiccions </h1>\n\t<br>\n\t<p class=\"inset-medium text-big text-shadow\">\n\t\tObservatori del sistema de salut de Catalunya\n\t</p>\n\t<p class=\"inset-medium text-big text-shadow\">\n\t\tCentral de resultats\n\t</p>\n\t<div class=\"text-shadow\" style=\"margin-top: 48px;\">\n\t\tDesplaça't per veure l'informe<br />\n\t\t<img src=\"./img/scroll-down-white.svg\" class=\"svg-icon bounce\" alt=\"down arrow\"/>\n\t</div>\n</Header>\n\n\n\n\n\n<Filler theme=\"dark\">\n\t<p class=\"text-big\">\n\t\tInforme 2020\n\t</p>\n</Filler>\n\n\n<Section>\n\t<h2>Salut mental comunitària d’adults: centres de salut mental d’adults (CSMA)</h2>\n\t<h3>La meitat dels pacients atesos pels CSMA són pacients crònics (51,1%) i un de cada tres pacient crònic complex (32,3%)</h3>\n\t<p>\n\t\tEls 76 centres de salut mental d’adults (CSMA) que donen servei a la xarxa pública de salut de Catalunya tenen assignada una població de 5.969.735 persones de 18 anys o més (51,3% dones i 48,7% homes), el que suposa una mitjana d’un CSMA per cada 78.550 persones. \n\t</p>\n\t<p>\n\t\tL’import de la contractació del conjunt de CSMA va ser de 51.363.489 €, que suposa una mitjana de 675.835€ per centre i de gairebé 304,5 € per persona atesa. El pressupost ha crescut un 9,3% respecte el 2016. \n\t</p>\n\t<blockquote class=\"text-indent\">\n\t\t\"Una de cada 7 persones ateses per un CSMA\n\t\tté un nivell socioeconòmic molt baix.\"\n\t</blockquote>\n\n\t\n\t<p>\n\t\tL’any 2017, un total de 168.688 persones van ésser ateses en algun CSMA (59,6% dones i 40,4% homes), concretament el 2,7% de la població adulta (3,1% de les dones i 2,2% dels homes).\n\t</p>\n\n</Section>\n\n<div class=\"embed\">\n\t<iframe width=\"60%\" height=\"864\" frameborder=\"0\"\nsrc=\"https://observablehq.com/embed/@x80110/aquas-plot?cells=viewof+scale%2Cviewof+variable%2Cviewof+sex%2Cviewof+edat%2Cviewof+cronic%2Cviewof+nou%2Cviewof+baix%2Cchart\"></iframe>\n</div>\n\n\n\n{#if loaded}\n<Multiline \n\tdata={multiline}\n\ttitle='Title' desc='Description'\n\tkey={{x: 'year', y: ['val']}}\n\tformat={{x: d3.utcFormat(\"%y\"), y: v => v}}\n\tcolor={['#fc0', '#036', '#f0c']}\n\tlayout='col'\n/>\n{/if}\n\n<Section>\n\t<div class=\"filtres\">\n\t<!-- <MultiSelect\n\t\ttype=\"inline\"\n\t\ttitleText=\"Filtra les dades\"\n\t\tlabel=\"Selecciona la regió...\"\n\t\titems={scale}\n\t/> -->\n\t</div>\n\t\n\t\n\t\n\t\t\n\t</Section>\n\t\n\t<Divider />\n\t\n\t<Section>\n\t\t<h2>Gràfic dinàmic</h2>\n\t\t<p>\n\t\t\tLa visualització a continuació recull dades territorials de visites realitzades als Centres de Salut Mental de Catalunya. \n\t\t\tDesplaça per veure'n més.\n\t\t</p>\n\t</Section>\n\n\n<div class=\"embed\">\n\t<iframe width=\"70%\" height=\"1184\" frameborder=\"0\" src=\"https://observablehq.com/embed/@oriolvidal/beeswarm-centres?cells=chart\"></iframe>\n</div>\n<Divider />\n\n<Section>\n\t<h2>La depressió és el diagnòstic més freqüent i l’esquizofrènia és el que genera més visites</h2>\n\t<p>\n\t\tEn una anàlisi en detall dels diagnòstics, s’observa que en el 2017 la\n\t\tdepressió va continuar essent el més freqüent, present en una ter-\n\t\tcera part de la població atesa (39,4% de les dones i 23,7% dels ho-\n\t\tmes). \n\t</p>\t\n\t<p>\n\t\tA l’altre extrem, la demència estava present únicament en un\n\t\t1,1% dels pacients (1,0% en dones i 1,2% en homes). El diagnòstic\n\t\tque va suposar un major nombre de visites és l’esquizofrènia, amb\n\t\tuna mitjana de 13,4 visites a l’any (12,7 en dones i 13,8 en homes).\n\t\tA continuació, si bé amb un volum menor, trobem les altres psicosis\n\t\t(10,3) i el trastorn bipolar (9,5).\n\t</p>\n</Section>\n\n<Media col=\"full\" height={600} caption=\"L'explicació del contingut previ\">\n\t<div class=\"media\">Gràfic o mèdia en ample complert</div>\n</Media>\n\n<Divider />\n\n<Section>\n\t<h2>L'estat dels Centres de Salut Mental a Catalunya </h2>\n\t<p class=\"mb\">\n\t\t\n\t\tEls serveis d’atenció ambulatòria d’adults compten amb 76 centres\n\t\tde salut mental d’adults (CSMA) que durant l’any 2017 van atendre\n\t\ta 168.688 persones. \n\t</p>\n</Section>\n\n\n<Divider />\n\n<Section>\n\t<h2>Consulta els informes anuals complerts de la Central de Resultats d'AQuAS</h2>\n\t<p>\n\t\tA continuació trobaras els informes dels darrers anys elaborats per l'Observatori del sistema de salut de Catalunya. \n\t</p>\n</Section>\n\n<Media\ncol=\"wide\"\ngrid=\"narrow\"\ncaption=\"Fes click per descarregar.\">\n<div class=\"media\">2020</div>\n<div class=\"media\">2019</div>\n<div class=\"media\">2018</div>\n<div class=\"media\">2017</div>\n</Media>\n\n<Section>\n\t<p>\n\t\tDescarrega la totalitat de les dades al portal de Transparència i Dades Obertes de la Generalitat. \n\t</p>\n</Section>\n\n<Footer />\n\n<style>\n\t.svg-icon {\n\t\twidth: 48px;\n\t\theight: 48px;\n\t}\n\t.bounce {\n\t\tanimation-duration: 2s;\n\t\tanimation-iteration-count: infinite;\n\t\tanimation-name: bounce;\n\t\tanimation-timing-function: ease;\n\t}\n/* \t@keyframes bounce {\n\t\t0%   { transform: translateY(10px); }\n\t\t30%  { transform: translateY(-10px); }\n\t\t50%  { transform: translateY(10px); }\n\t\t100% { transform: translateY(10px); }\n\t}\n\t.label-block {\n\t\tdisplay: inline-block;\n\t\ttext-align: right;\n\t\twidth: 80px;\n\t}\n\tselect {\n\t\twidth: 210px;\n\t}\n\t.chart {\n\t\tmargin-top: 45px;\n\t\theight: 100vh;\n\t\twidth: calc(100% - 5px);\n\t} */\n\t/* The properties below make the media DIVs grey, for visual purposes in demo */\n\t.media {\n\t  background-color: #f0f0f0;\n\t  display: -webkit-box;\n\t  display: -ms-flexbox;\n\t  display: flex;\n\t  -webkit-box-orient: vertical;\n\t  \t-webkit-box-direction: normal;\n\t      -ms-flex-flow: column;\n\t          flex-flow: column;\n\t  -webkit-box-pack: center;\n\t      -ms-flex-pack: center;\n\t          justify-content: center;\n\t  text-align: center;\n\t  color: #aaa;\n  \t}\n\t\n\t.filtres {\n\t\tfont-size:70%;\n\t}\n\n\t.embed {\n\t\tmargin-top:2em;\n\t\tdisplay: flex;\n        align-items: center;\n\t\tjustify-content: center;\n\t}\n\n</style>\n\t<!-- \n\t<Scroller {threshold} bind:index={indqex[0]} splitscreen={true}>\n\t\t<div slot=\"background\">\n\t\t\t<figure>\n\t\t\t\t<div class=\"col-wide height-full middle\">\n\t\t\t\t\t{#if data && xKey && yKey}\n\t\t\t\t\t<div class=\"chart\">\n\t\t\t\t\t\t<ScatterChart diameter={6} {data} {xKey} {yKey} {catKey} {colors} {categories} {selected} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</figure>\n\t\t</div>\n\t\n\t\t<div slot=\"foreground\">\n\t\t\t<section>\n\t\t\t\t<div class=\"col-medium\">\n\t\t\t\t\t<p>Una de cada set <span class=\"em em-muted\">persones\n\t\t\t\t\t\tateses</span> per un CSMA té un <span class=\"em em-muted\"> nivell socioeconòmic</span>\n\t\t\t\t\t\t<span class=\"em em-muted\">molt baix</span>.</p>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section>\n\t\t\t\t<div class=\"col-medium\">\n\t\t\t\t\t<p>La mitjana de <span class=\"em em-muted\">visites per pacient</span> decreix des del 2015.</p>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section>\n\t\t\t\t<div class=\"col-medium\">\n\t\t\t\t\t<p>El 88% dels pacients atesos en el 2016 amb <span class=\"em em-muted\">trastorn mental greu</span> van continuar atenent-se en el 2017</p>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section>\n\t\t\t\t<div class=\"col-medium\">\n\t\t\t\t\t<h3>Explora les dades</h3>\n\t\t\t\t\t{#if data}\n\t\t\t\t\t<nobr>\n\t\t\t\t\t\t<span class=\"label-block\">X:</span>\n\t\t\t\t\t\t<select bind:value={xKey}>\n\t\t\t\t\t\t\t{#each Object.keys(datakeys) as key}\n\t\t\t\t\t\t\t\t<option value={key}>{datakeys[key]}</option>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</nobr>\n\t\t\t\t\t<nobr>\n\t\t\t\t\t\t<span class=\"label-block\">Y:</span>\n\t\t\t\t\t\t<select bind:value={yKey}>\n\t\t\t\t\t\t\t{#each Object.keys(datakeys) as key}\n\t\t\t\t\t\t\t\t<option value={key}>{datakeys[key]}</option>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</nobr>\n\t\t\t\t\t{#if places}\n\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t<span class=\"label-block\">Zona</span>\n\t\n\t\t\t\t\t\t\t<select bind:value={selected}>\n\t\t\t\t\t\t\t\t<option value={null}>All</option>\n\t\t\t\t\t\t\t\t{#each places as place}\n\t\t\t\t\t\t\t\t\t<option value={{ value: place.code, col: 'aga' }}>\n\t\t\t\t\t\t\t\t\t\t{place.name}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</div>\n\t</Scroller>\n\t -->\n<!-- \t <Scroller {threshold} bind:index={index[1]}>\n\t\t<div slot=\"background\">\n\t\t\t<figure>\n\t\t\t\t<div class=\"col-full height-full\">\n\t\t\t\t\t<Map style={mapstyle} bind:map={map} />\n\t\t\t\t</div>\n\t\t\t</figure>\n\t\t</div>\n\t\t\n\t\t<div slot=\"foreground\">\n\t\t\t<section>\n\t\t\t\t<div class=\"col-medium\">\n\t\t\t\t\t<p>Les regions de Catalunya amb més activitat als centres de salut mental són<span class=\"em em-muted\">Barcelona i Tarragona</span>.</p>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section>\n\t\t\t\t<div class=\"col-medium\">\n\t\t\t\t\t<p>Al <span class=\"em em-muted\">Bages</span>, en canvi,  s'ha reduit molt el nombre de visites, fins un 23%.</p>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section>\n\t\t\t\t<div class=\"col-medium\">\n\t\t\t\t\t<p>Mentre que les mesures que es va prendre <span class=\"em em-muted\">, al CSM Infantil i Juvenil de Lleida</span> han aconseguit que un 53% més de pacients crònics que l'any anterior segueixin sent atesos enguany.</p>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</div>\n\t</Scroller>\n -->\t",
    "<script>\n\timport Axis from './shared/Axis.svelte';\n\timport PointInteractive from './shared/PointInteractive.svelte';\n\timport {line, curveStep} from 'd3-shape';\n    import {scaleTime, scaleLinear} from 'd3-scale';\n    import {max, extent} from 'd3-array';\n    import { Delaunay } from 'd3-delaunay';\n    \n    export let data;\n\texport let margin = {top: 20, right: 5, bottom: 20, left: 5};\n\texport let format;\n\texport let key;\n    export let color;\n    export let title;\n\texport let desc;\n\texport let layout;\n\t// export let rolledData;\n\tlet datum, width, height;\n    \n    const _data = key.y.map( (key, i) => data.map(d => ({x: d.Any, y: d[key], key:key, color: color[i]} )))\n\t\t\n\t$: x = scaleTime()\n\t\t.domain(extent(_data.flat(), d => d.x))\n\t\t.range([margin.left, width - margin.right]);\n\t\n\t$: y = scaleLinear()\n\t\t.domain([0, max(_data.flat(), d => d.y)])\t\n\t\t.range([height - margin.bottom - margin.top, margin.top]);\n\t$: path = line()\n\t\t.x(d => x(d.x))\n\t\t.y(d => y(d.y))\n        .curve(curveStep);\n    $: delaunay = Delaunay.from(_data.flat(), d => x(d.x), d => y(d.y))\n\tconst mouseMove = (m) => {\n        const mX = (m.offsetX) ? m.offsetX : m.clientX;\n        const mY = (m.offsetY) ? m.offsetY : m.clientY;\n        const picked = delaunay.find(mX, mY);\n        datum = _data.flat()[picked];\n\t}\n\tconst leave = (m) => {\n\t\tdatum = undefined;\n    }\n    \n    $: hilite = (key) => {\n        if(datum !== undefined) return (datum.key === key) ? 1 : .3 ;\n        else return 1;\n    }\n</script> \n\n<div class='graphic {layout}' bind:clientWidth={width} bind:clientHeight={height}>\n{#if width}\n<svg xmlns:svg='https://www.w3.org/2000/svg' \n\tviewBox='0 0 {width} {height}'\n\t{width}\n\t{height}\n\trole='img'\n    aria-labelledby='title desc'\n    on:touchmove|preventDefault\n\ton:pointermove|preventDefault={mouseMove}\n\ton:mouseleave={leave}\n\ton:touchend={leave}\n\t>\n\t<title id='title'>{title}</title>\n\t<desc id='desc'>{desc}</desc>\n\t<g>\n        {#each _data as d}\n\t\t<path \n\t\t\td={path(d)}\n\t\t\tstroke={d[0].color}\n            fill='none'\n            opacity={hilite(d[0].key)}\n        />\n        {/each}\n\t</g>\n\n\t<Axis {width} {height} {margin} scale={y} position='left' format={format.y} />\n\t<Axis {width} {height} {margin} scale={x} position='bottom' format={format.x} />\n\n\t<PointInteractive {datum} {format} {x} {y} key={{x:'x', y:'y'}} {width} />\n\t\n</svg>\n{/if}\n</div>\n\n<style>\n    path {\n        transition: opacity .3s;\n    }\n</style>",
    "<script>\n\texport let width;\n  export let height;\n  export let margin;\n  export let scale;\n  export let position;\n  export let format;\n  export let time;\n\t\n\t$: nTicks = (position === 'bottom' || position === 'top' ) \n\t\t? width / 50\n    : height / 50;\n  $: transform = position === 'bottom'\n    ? `translate(0, ${height - margin.bottom - margin.top})`\n\t\t: position === 'top'\n    ? `translate(0, ${margin.top})`\n    : position === 'left'\n    ? `translate(${margin.left}, 0)`\n    : `translate(0, ${margin.right})`\n  $: ticks = scale.ticks((!time)? nTicks : time)\n    .map(d => ({value: format(d), offset: scale(d)}));\n    \n  $: anchor = (x) => {\n\t\tswitch(true) {\n\t\t\tcase x < 20:\n\t\t\t\treturn 'start';\n\t\t\tcase x  > width - 40:\n\t\t\t\treturn 'end';\n\t\t\tdefault:\n\t\t\t\treturn 'middle'\n\t\t}\n\t}\n</script>\n\n<g class='axis' {transform} pointer-events='none'>\n  {#each ticks as tick}\n    {#if position === 'bottom'}\n    <g class='tick' transform='translate({tick.offset}, 0)'>\n      <line y2=6 />\n      <text class='label' y=20 text-anchor={anchor(tick.offset)}>\n        {tick.value}\n      </text>\n    </g>\n\t\t{:else if position === 'top'}\n    <g class='tick' transform='translate({tick.offset}, 0)'>\n      <line y2=-6 />\n      <text class='label' y=-10 text-anchor={anchor(tick.offset)}>\n        {tick.value}\n      </text>\n    </g>\n    {:else if position === 'right'}\n    <g class='tick' transform='translate(0, {tick.offset})'>\n\t\t\t{#if tick.value === '0'}\n      <line x2={width}/>\n\t\t\t{:else}\n      <line x2={width} stroke-dasharray=\"2 3\" />\n      <text class='label' x={width} y=-5 text-anchor='end'>\n        {tick.value}\n      </text>\n\t\t\t{/if}\n    </g>\n    {:else if position === 'left'}\n    <g class='tick' transform='translate(0, {tick.offset})'>\n      {#if tick.value === '0'}\n      <line x2={width}/>\n\t\t\t{:else}\n      <line x2={width} stroke-dasharray=\"2 3\" />\n      <text class='label' x=0 y=-5 text-anchor='start'>\n        {tick.value}\n      </text>\n\t\t\t{/if}\n    </g>\n    {/if}\n  {/each}\n</g>\n\n<style>\n\tline {\n\t\tstroke: #DCDCDC;\n\t}\n</style>",
    "<script>\n    export let width;\n    export let datum;\n    export let key;\n    export let x;\n    export let y;\n    export let color;\n    export let format;\n    export let r = 3;\n    $: anchor = (x) => {\n\t\tswitch(true) {\n\t\t\tcase x < 20:\n\t\t\treturn 'start';\n\t\t\tcase x  > width - 40:\n\t\t\treturn 'end';\n\t\t\tdefault:\n\t\t\treturn 'middle';\n\t\t}\n    }\n    \n</script>\n\n{#if datum !== undefined}\n<g>\n    <line\n        x1={x(datum[key.x])}\n        y1={y(0)}\n        x2={x(datum[key.x])}\n        y2={y(datum[key.y])}\n        pointer-events='none'\n        stroke='rgba(0,0,0,.5)'\n        stroke-width=.3\n        class='tooltip'\n    />\n    <circle\n        r={r}\n        cx={x(datum[key.x])}\n        cy={y(datum[key.y])}\n        stroke='rgba(0,0,0,1)'\n        pointer-events='none'\n        stroke-width=2\n        fill={color}\n        class='tooltip'\n    />\n    <text\n        x={x(datum[key.x])}\n        y={y(datum[key.y]) - 8}\n        pointer-events='none'\n        text-anchor={anchor(x(datum[key.x]))}\n        class='tooltip value'\n    >\n        {format.y(datum[key.y])}\n    </text>\n    <text\n        x={x(datum[key.x])}\n        y={y(0) + 20}\n        pointer-events='none'\n        text-anchor={anchor(x(datum[key.x]))}\n        class='tooltip label'\n    >\n        {format.x(datum[key.x])}\n    </text>\n</g>\n{/if}\n\n<style>\n    text.tooltip {\n\t\tpaint-order: stroke;\n\t\tstroke:#fff;\n\t\tstroke-width: 5px;\n\t\tstroke-linecap: round;\n\t\tstroke-linejoin: round;\n\t}\n</style>",
    "<script>\n\timport { themes } from '../.../../config.js';\n\timport { getContext } from 'svelte';\n\n  export let theme = getContext('theme');\n  export let hr = true;\n</script>\n\n<section style=\"color: {themes[theme]['text']}; background-color: {themes[theme]['background']};\">\n\t<div class=\"col-medium\">\n    {#if hr}\n    <hr style=\"color: {themes[theme]['muted']}\"/>\n    {:else}\n    <hr style=\"color: {themes[theme]['muted']}; border: none;\"/>\n    {/if}\n\t</div>\n</section>\n\n<style>\n  hr {\n    width: 75px;\n    border: none;\n    border-top: 2px solid;\n    margin: 40px auto -10px auto;\n  }\n</style>\n\n",
    "<script>\n\timport { themes } from '../.../../config.js';\n\timport { getContext } from 'svelte';\n\n\texport let theme = getContext('theme');\n</script>\n\n<footer style=\"color: {themes[theme]['text']}; background-color: {themes[theme]['pale']};\">\n\t<div class=\"col-wide\" data-analytics=\"footer\">\n\t\t{#if theme == 'dark'}\n\t\t<img\n\t\t\tclass=\"logo-img\"\n\t\t\tsrc=\"./img/aquas.png\"\n\t\t\talt=\"Agència de Qualitat i Avaluació Sanitàries de Catalunya \" />\n\t\t{:else}\n\t\t<img\n\t\t\tclass=\"logo-img\"\n\t\t\tsrc=\"./img/aquas.png\"\n\t\t\talt=\"Agència de Qualitat i Avaluació Sanitàries de Catalunya \" />\n\t\t{/if}\n\t\t<ul>\n\t\t\t<li><a href=\"https://aquas.gencat.cat/ca/contacte/\" class=\"list__link\" stnyle=\"color: {themes[theme]['muted']}\">Contacta'ns</a></li>\n\t\t\t<li><a href=\"http://web.gencat.cat/ca/menu-ajuda/ajuda/avis_legal/\" class=\"list__link\" style=\"color: {themes[theme]['muted']}\">Privacitat i cookies</a></li>\n\t\t</ul>\n\t\t<hr style=\"border-top-color: {themes[theme]['muted']}\" />\n\t\t<div class=\"license\">\n\t\t\tTot el contingut disponible al portal web Govern Obert de la Generalitat de Catalunya \n\t\t\t<a\n\t\t\t\thref=\"http://governobert.gencat.cat/ca/dades_obertes/\"\n\t\t\t\tclass=\"external-link\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noopener\"\n\t\t\t\tstyle=\"color: {themes[theme]['muted']}\">AQuAS </a>\n\t\t</div>\n\t</div>\n</footer>\n\n<style>\n\tfooter {\n\t\tpadding-bottom: 72px;\n\t\tpadding-top: 36px;\n\t\tfont-size: 18px;\n\t}\n\tfooter a {\n\t\t-webkit-box-sizing: border-box;\n\t\tbox-sizing: border-box;\n\t\ttext-decoration: underline;\n\t\tdisplay: inline-block;\n\t}\n\tfooter a:hover {\n\t\ttext-decoration: none;\n\t}\n\tfooter a:active {\n\t\toutline: 3px solid transparent;\n\t\tbackground-color: #fd0;\n\t\t-webkit-box-shadow: 0 -2px #fd0, 0 4px #222;\n\t\tbox-shadow: 0 -2px #fd0, 0 4px #222;\n\t\tcolor: #222;\n\t\ttext-decoration: none;\n\t}\n\tfooter hr {\n\t\tmargin-bottom: 27px;\n\t\tmargin-top: 36px;\n\t\tborder: none;\n\t\tborder-top: 1px solid #777;\n\t}\n\tul {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n\tli {\n\t\tmargin-right: 18px;\n\t\tdisplay: inline-block;\n\t}\n\t.logo-img {\n\t\tmargin-bottom: 27px;\n\t}\n\t\n\t.license {\n\t\tvertical-align: top;\n\t}\n</style>",
    "<script>\n  import { themes } from '../.../../config.js';\n\timport { onMount, getContext } from 'svelte';\n\timport { debounce } from 'debounce';\n\t\n\tconst colWidths = {\n\t\t'narrow': 200,\n\t\t'medium': 330,\n\t\t'wide': 500\n\t};\n\n  export let theme = getContext('theme');\n  export let col = 'medium';\n  export let grid = null;\n  export let caption = null;\n\texport let height = 200;\n\texport let gap = 12;\n\n\tlet rowHeight = !Number.isNaN(height) ? height + 'px' : height;\n\t\n\tconst minWidth = grid && colWidths[grid] ? colWidths[grid] : null;\n\t\n\tlet gridWidth;\n\tlet cols;\n\t\n\tlet el;\n\tlet divs;\n\tlet count;\n\t\n\tonMount(() => {\n\t\tresize();\n\t});\n\t\n\tconst update = debounce(resize, 200);\n\t\n\tfunction resize() {\n\t\tif (el && !divs) {\n\t\t\tlet arr = [];\n\t\t\tlet children = el.childNodes;\n\t\t\tchildren.forEach(child => {\n\t\t\t\tif (child.nodeName == 'DIV') { arr.push(child)};\n\t\t\t});\n\t\t\tdivs = arr;\n\t\t};\n\t\tcount = divs.length;\n\t\tcols = !minWidth || gridWidth <= minWidth ? 1 : Math.floor(gridWidth / minWidth);\n\t\tmakeCols();\n\t}\n\t\n\tfunction makeCols() {\n\t\tlet r = Math.ceil(count / cols) > 1 ? `-ms-grid-rows: ${rowHeight} (${gap}px ${rowHeight})[${Math.ceil(count / cols) - 1}]; grid-template-rows: ${rowHeight} repeat(${Math.ceil(count / cols) - 1}, ${gap}px ${rowHeight});` : `-ms-grid-rows: ${rowHeight}; grid-template-rows: ${rowHeight};`;\n\t\tlet c = cols > 1 ? `-ms-grid-columns: 1fr (${gap}px 1fr)[${cols - 1}]; grid-template-columns: 1fr repeat(${cols - 1}, ${gap}px 1fr);` : '';\n\t\tel.style.cssText = r + c;\n\t\tdivs.forEach((div, i) => {\n\t\t\tlet col = (i % cols) * 2 + 1;\n\t\t\tlet row = Math.floor(i / cols) * 2 + 1;\n\t\t\tdiv.style.cssText = `-ms-grid-column: ${col}; -ms-grid-row: ${row}; grid-column: ${col}; grid-row: ${row};`;\n\t\t});\n\t}\n\t\n\t$: minWidth && gridWidth && update();\n</script>\n\n<figure style=\"color: {themes[theme]['text']}; background-color: {themes[theme]['background']};\">\n\t<div class=\"col-{col}\">\n\t\t<div bind:this={el} bind:clientWidth={gridWidth} class=\"grid\">\n\t\t\t<slot></slot>\n\t\t</div>\n  </div>\n</figure>\n{#if caption}\n<caption style=\"color: {themes[theme]['text']}; background-color: {themes[theme]['background']};\">\n  <div class=\"col-medium\">\n    <div class=\"caption\">{@html caption}</div>\n  </div>\n</caption>\n{/if}\n\n<style>\n\t.grid {\n\t\tdisplay: grid;\n\t\tdisplay: -ms-grid;\n\t\t-ms-grid-columns: 1fr;\n\t\tgrid-template-columns: 1fr;\n    margin-top: 40px;\n\t}\n</style>",
    "<script>\n  import { themes } from '../config.js';\n\timport { getContext } from 'svelte';\n\texport let theme = getContext('theme');\n\texport let filled = true;\n</script>\n\n<nav style=\"border-bottom-color: {themes[theme]['muted']}; {filled ? 'background-color: ' +  themes[theme]['background'] + ';' : ''}\">\n  <div class=\"col-wide middle center\">\n\t\t<p class='banner'> Col·labora a millorar l'experiència d'usuari, <a href=\"#\">participa en la nostra recerca</a>  › </p>\n        \n  </div>\n</nav>\n\n<style>\n\tnav {\n\t\t-webkit-box-sizing: border-box;\n\t\tbox-sizing: border-box;\n\t\tposition: relative;\n\t\theight: 46px;\n\t\tmargin-bottom: -46px;\n\t\tborder-bottom: 1px solid #777;\n\t}\n\t.banner {\n\t\tfont-size: 70%;\n\t\tpadding-bottom: 2em;\n\t}\n\n</style>\t\n\n"
  ],
  "names": [],
  "mappings": "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"
}